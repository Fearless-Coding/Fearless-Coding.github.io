<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98.html"><meta property="og:title" content="Mysql面试题"><meta property="og:description" content="Mysql面试题 索引的基本原理 快速的找到想要的值，索引就是把无序变成有序的查询 把索引列排序 对排序结果生成倒排表 在倒排表上拼接数据的地址 在排序时，先拿到倒排表的内容，再去去地址，拿到对应的数据 聚簇索引和非聚簇索引的区别 数据结构都是B+Tree ● 聚簇索引:将数据存储与索引放到了一块、并且是按照一定的顺序组织的,找到索引也就找到了数据，数据的物理存放顺序与索引顺序是一致的, 即:只要索引是相邻的，那么对应的数据一定也是相邻地存放在磁盘上的 ● 非聚簇索引:叶子节点不存储数据、存储的是数据行地址，也就是说根据索引查找到数据行的位置再取磁盘查（普通索引也叫二级索引就是非聚簇索引）"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-12-11T15:09:55.000Z"><meta property="article:author" content="Fearless"><meta property="article:modified_time" content="2023-12-11T15:09:55.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Mysql面试题","image":[""],"dateModified":"2023-12-11T15:09:55.000Z","author":[{"@type":"Person","name":"Fearless"}]}</script><title>Mysql面试题</title><meta name="description" content="Mysql面试题 索引的基本原理 快速的找到想要的值，索引就是把无序变成有序的查询 把索引列排序 对排序结果生成倒排表 在倒排表上拼接数据的地址 在排序时，先拿到倒排表的内容，再去去地址，拿到对应的数据 聚簇索引和非聚簇索引的区别 数据结构都是B+Tree ● 聚簇索引:将数据存储与索引放到了一块、并且是按照一定的顺序组织的,找到索引也就找到了数据，数据的物理存放顺序与索引顺序是一致的, 即:只要索引是相邻的，那么对应的数据一定也是相邻地存放在磁盘上的 ● 非聚簇索引:叶子节点不存储数据、存储的是数据行地址，也就是说根据索引查找到数据行的位置再取磁盘查（普通索引也叫二级索引就是非聚簇索引）">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-0de11b29.css" as="style"><link rel="stylesheet" href="/assets/style-0de11b29.css">
    <link rel="modulepreload" href="/assets/app-8e0f9155.js"><link rel="modulepreload" href="/assets/Mysql面试题.html-8dbb6fff.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/assets/Mysql面试题.html-ff77294d.js"><link rel="prefetch" href="/assets/index.html-0b1e5f83.js" as="script"><link rel="prefetch" href="/assets/index.html-20be0645.js" as="script"><link rel="prefetch" href="/assets/index.html-a59ef8bd.js" as="script"><link rel="prefetch" href="/assets/disable.html-b9506c36.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-9e084c53.js" as="script"><link rel="prefetch" href="/assets/markdown.html-94c3075c.js" as="script"><link rel="prefetch" href="/assets/page.html-c533fa67.js" as="script"><link rel="prefetch" href="/assets/slides.html-07d872c3.js" as="script"><link rel="prefetch" href="/assets/index.html-2a683411.js" as="script"><link rel="prefetch" href="/assets/index.html-b4eb998d.js" as="script"><link rel="prefetch" href="/assets/index.html-edcb3b0e.js" as="script"><link rel="prefetch" href="/assets/index.html-ca30b0c5.js" as="script"><link rel="prefetch" href="/assets/Spring.html-115d3bd6.js" as="script"><link rel="prefetch" href="/assets/Java并发.html-73b0d2d3.js" as="script"><link rel="prefetch" href="/assets/index.html-46d81a03.js" as="script"><link rel="prefetch" href="/assets/面试.html-85fcc984.js" as="script"><link rel="prefetch" href="/assets/index.html-80e567b3.js" as="script"><link rel="prefetch" href="/assets/工具.html-50a541a2.js" as="script"><link rel="prefetch" href="/assets/index.html-956ddef4.js" as="script"><link rel="prefetch" href="/assets/WebSocket.html-521ab6be.js" as="script"><link rel="prefetch" href="/assets/index.html-fe90d36d.js" as="script"><link rel="prefetch" href="/assets/Vue.html-ef99c1e2.js" as="script"><link rel="prefetch" href="/assets/Linux.html-69769a77.js" as="script"><link rel="prefetch" href="/assets/index.html-e6c328bd.js" as="script"><link rel="prefetch" href="/assets/Git.html-64c80a8b.js" as="script"><link rel="prefetch" href="/assets/index.html-7926ee43.js" as="script"><link rel="prefetch" href="/assets/index.html-02861324.js" as="script"><link rel="prefetch" href="/assets/Kafka.html-924fa441.js" as="script"><link rel="prefetch" href="/assets/index.html-a9901f68.js" as="script"><link rel="prefetch" href="/assets/OOM真实生产分析.html-2bf6aa05.js" as="script"><link rel="prefetch" href="/assets/index.html-be7519c9.js" as="script"><link rel="prefetch" href="/assets/限流.html-6df274c3.js" as="script"><link rel="prefetch" href="/assets/index.html-cfbee508.js" as="script"><link rel="prefetch" href="/assets/数据结构.html-eca0c43d.js" as="script"><link rel="prefetch" href="/assets/算法.html-1469c49d.js" as="script"><link rel="prefetch" href="/assets/设计模式.html-0aa5dc52.js" as="script"><link rel="prefetch" href="/assets/Java8新特性.html-6181b83c.js" as="script"><link rel="prefetch" href="/assets/index.html-5ac6adc8.js" as="script"><link rel="prefetch" href="/assets/baz.html-cd90890f.js" as="script"><link rel="prefetch" href="/assets/index.html-879a924f.js" as="script"><link rel="prefetch" href="/assets/ray.html-fe7c3f61.js" as="script"><link rel="prefetch" href="/assets/index.html-afec2a3a.js" as="script"><link rel="prefetch" href="/assets/创建项目.html-df1027cb.js" as="script"><link rel="prefetch" href="/assets/1.JVM.html-f710cf7b.js" as="script"><link rel="prefetch" href="/assets/2.JVM笔记（一）.html-b2ec3ca4.js" as="script"><link rel="prefetch" href="/assets/3.JVM笔记（三）.html-baa7cfbe.js" as="script"><link rel="prefetch" href="/assets/3.JVM笔记（二）.html-682dc3a8.js" as="script"><link rel="prefetch" href="/assets/index.html-88703848.js" as="script"><link rel="prefetch" href="/assets/index.html-4853a958.js" as="script"><link rel="prefetch" href="/assets/Vue.html-36472a18.js" as="script"><link rel="prefetch" href="/assets/运行环境设置.html-57b18a74.js" as="script"><link rel="prefetch" href="/assets/Mysql优化.html-16ce2052.js" as="script"><link rel="prefetch" href="/assets/Mysql基础.html-e0ee1f86.js" as="script"><link rel="prefetch" href="/assets/Redis基础.html-b7a61bf1.js" as="script"><link rel="prefetch" href="/assets/Redis实战.html-0a6a63f9.js" as="script"><link rel="prefetch" href="/assets/Redis进阶.html-abc47e9e.js" as="script"><link rel="prefetch" href="/assets/index.html-efb265c1.js" as="script"><link rel="prefetch" href="/assets/RocketMQ.html-1ef89e9b.js" as="script"><link rel="prefetch" href="/assets/404.html-1c85953a.js" as="script"><link rel="prefetch" href="/assets/index.html-2f00fdb4.js" as="script"><link rel="prefetch" href="/assets/index.html-15f64e0d.js" as="script"><link rel="prefetch" href="/assets/index.html-3f08ade6.js" as="script"><link rel="prefetch" href="/assets/index.html-e322ee0e.js" as="script"><link rel="prefetch" href="/assets/index.html-0458edb1.js" as="script"><link rel="prefetch" href="/assets/index.html-0120aad6.js" as="script"><link rel="prefetch" href="/assets/index.html-85b899cb.js" as="script"><link rel="prefetch" href="/assets/index.html-3e692a09.js" as="script"><link rel="prefetch" href="/assets/index.html-f1b4328d.js" as="script"><link rel="prefetch" href="/assets/index.html-f5967893.js" as="script"><link rel="prefetch" href="/assets/index.html-f57d247d.js" as="script"><link rel="prefetch" href="/assets/index.html-373361bf.js" as="script"><link rel="prefetch" href="/assets/index.html-820b4eb0.js" as="script"><link rel="prefetch" href="/assets/index.html-0fc990f6.js" as="script"><link rel="prefetch" href="/assets/index.html-6b29f0ca.js" as="script"><link rel="prefetch" href="/assets/index.html-caeeb842.js" as="script"><link rel="prefetch" href="/assets/index.html-50b9ad87.js" as="script"><link rel="prefetch" href="/assets/index.html-e0ba4be6.js" as="script"><link rel="prefetch" href="/assets/index.html-ab22d30c.js" as="script"><link rel="prefetch" href="/assets/index.html-a28db9df.js" as="script"><link rel="prefetch" href="/assets/index.html-c80ff879.js" as="script"><link rel="prefetch" href="/assets/disable.html-1c29a258.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-97add202.js" as="script"><link rel="prefetch" href="/assets/markdown.html-555c3583.js" as="script"><link rel="prefetch" href="/assets/page.html-516a3cd9.js" as="script"><link rel="prefetch" href="/assets/slides.html-4b55257b.js" as="script"><link rel="prefetch" href="/assets/index.html-e88c4186.js" as="script"><link rel="prefetch" href="/assets/index.html-dc2d7d40.js" as="script"><link rel="prefetch" href="/assets/index.html-61719a81.js" as="script"><link rel="prefetch" href="/assets/index.html-098835f6.js" as="script"><link rel="prefetch" href="/assets/Spring.html-f12bf53e.js" as="script"><link rel="prefetch" href="/assets/Java并发.html-5c73b433.js" as="script"><link rel="prefetch" href="/assets/index.html-c9ae85b3.js" as="script"><link rel="prefetch" href="/assets/面试.html-506e2fba.js" as="script"><link rel="prefetch" href="/assets/index.html-1d858fef.js" as="script"><link rel="prefetch" href="/assets/工具.html-4a94343f.js" as="script"><link rel="prefetch" href="/assets/index.html-08196d35.js" as="script"><link rel="prefetch" href="/assets/WebSocket.html-447cd1ad.js" as="script"><link rel="prefetch" href="/assets/index.html-d03fb32e.js" as="script"><link rel="prefetch" href="/assets/Vue.html-abc3a77d.js" as="script"><link rel="prefetch" href="/assets/Linux.html-6db0d3e5.js" as="script"><link rel="prefetch" href="/assets/index.html-7fd7c552.js" as="script"><link rel="prefetch" href="/assets/Git.html-909fe313.js" as="script"><link rel="prefetch" href="/assets/index.html-64bde00d.js" as="script"><link rel="prefetch" href="/assets/index.html-6698a567.js" as="script"><link rel="prefetch" href="/assets/Kafka.html-40d0bca6.js" as="script"><link rel="prefetch" href="/assets/index.html-e71113e0.js" as="script"><link rel="prefetch" href="/assets/OOM真实生产分析.html-0307bcbe.js" as="script"><link rel="prefetch" href="/assets/index.html-b76d044c.js" as="script"><link rel="prefetch" href="/assets/限流.html-66efaee5.js" as="script"><link rel="prefetch" href="/assets/index.html-5decb203.js" as="script"><link rel="prefetch" href="/assets/数据结构.html-a63dd870.js" as="script"><link rel="prefetch" href="/assets/算法.html-827a26dc.js" as="script"><link rel="prefetch" href="/assets/设计模式.html-0e2777b8.js" as="script"><link rel="prefetch" href="/assets/Java8新特性.html-37e11bb1.js" as="script"><link rel="prefetch" href="/assets/index.html-084d3de1.js" as="script"><link rel="prefetch" href="/assets/baz.html-f1ebbe03.js" as="script"><link rel="prefetch" href="/assets/index.html-14b109d2.js" as="script"><link rel="prefetch" href="/assets/ray.html-23630783.js" as="script"><link rel="prefetch" href="/assets/index.html-b30b972a.js" as="script"><link rel="prefetch" href="/assets/创建项目.html-7646ce6e.js" as="script"><link rel="prefetch" href="/assets/1.JVM.html-2f3c83e4.js" as="script"><link rel="prefetch" href="/assets/2.JVM笔记（一）.html-103ff8c1.js" as="script"><link rel="prefetch" href="/assets/3.JVM笔记（三）.html-c6788d4d.js" as="script"><link rel="prefetch" href="/assets/3.JVM笔记（二）.html-dd766549.js" as="script"><link rel="prefetch" href="/assets/index.html-62d09601.js" as="script"><link rel="prefetch" href="/assets/index.html-ab397c71.js" as="script"><link rel="prefetch" href="/assets/Vue.html-5da1fffb.js" as="script"><link rel="prefetch" href="/assets/运行环境设置.html-b08affcf.js" as="script"><link rel="prefetch" href="/assets/Mysql优化.html-69781e28.js" as="script"><link rel="prefetch" href="/assets/Mysql基础.html-b08a3daf.js" as="script"><link rel="prefetch" href="/assets/Redis基础.html-ed48bf76.js" as="script"><link rel="prefetch" href="/assets/Redis实战.html-191ecdc5.js" as="script"><link rel="prefetch" href="/assets/Redis进阶.html-8fa329b9.js" as="script"><link rel="prefetch" href="/assets/index.html-d2a30195.js" as="script"><link rel="prefetch" href="/assets/RocketMQ.html-a646532a.js" as="script"><link rel="prefetch" href="/assets/404.html-0439dfa7.js" as="script"><link rel="prefetch" href="/assets/index.html-fb913c05.js" as="script"><link rel="prefetch" href="/assets/index.html-107d86a9.js" as="script"><link rel="prefetch" href="/assets/index.html-b40301ac.js" as="script"><link rel="prefetch" href="/assets/index.html-72e3af90.js" as="script"><link rel="prefetch" href="/assets/index.html-d594ea29.js" as="script"><link rel="prefetch" href="/assets/index.html-2bd3ca12.js" as="script"><link rel="prefetch" href="/assets/index.html-29c1cacf.js" as="script"><link rel="prefetch" href="/assets/index.html-d6fdd136.js" as="script"><link rel="prefetch" href="/assets/index.html-6525cec7.js" as="script"><link rel="prefetch" href="/assets/index.html-9cd7feeb.js" as="script"><link rel="prefetch" href="/assets/index.html-83efa73b.js" as="script"><link rel="prefetch" href="/assets/index.html-f86b62c2.js" as="script"><link rel="prefetch" href="/assets/index.html-4f454995.js" as="script"><link rel="prefetch" href="/assets/index.html-fb36fb41.js" as="script"><link rel="prefetch" href="/assets/index.html-a5cf0449.js" as="script"><link rel="prefetch" href="/assets/index.html-4b2bd9a6.js" as="script"><link rel="prefetch" href="/assets/index.html-fdd24f42.js" as="script"><link rel="prefetch" href="/assets/index.html-a89a48b1.js" as="script"><link rel="prefetch" href="/assets/giscus-0b7adcf8.js" as="script"><link rel="prefetch" href="/assets/auto-fe80bb03.js" as="script"><link rel="prefetch" href="/assets/index-2bf332f6.js" as="script"><link rel="prefetch" href="/assets/flowchart-c441f34d.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-203d2145.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-9d5bc2ce.js" as="script"><link rel="prefetch" href="/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-1a4c3ae7.js" as="script"><link rel="prefetch" href="/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/assets/VuePlayground-a0afbcb6.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-1a9f4b8e.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/"><img class="vp-nav-logo" src="/logo.svg" alt><!----><!----></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="导航总览" class="vp-link nav-link nav-link" href="/menu/"><span class="font-icon icon fa-fw fa-sm fas fa-signs-post" style=""></span>导航总览<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="开源项目推荐" class="vp-link nav-link nav-link" href="/openSource/"><span class="font-icon icon fa-fw fa-sm fas fa-signs-post" style=""></span>开源项目推荐<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="主要功能与配置演示" class="vp-link nav-link nav-link" href="/demo/"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span>主要功能与配置演示<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="指南"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>指南</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Bar</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-label="Baz" class="vp-link nav-link nav-link" href="/guide/bar/baz.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>Baz<!----></a></li><li class="dropdown-subitem"><a aria-label="..." class="vp-link nav-link nav-link" href="/guide/bar/"><span class="font-icon icon fa-fw fa-sm fas fa-ellipsis" style=""></span>...<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Foo</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-label="Ray" class="vp-link nav-link nav-link" href="/guide/foo/ray.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>Ray<!----></a></li><li class="dropdown-subitem"><a aria-label="..." class="vp-link nav-link nav-link" href="/guide/foo/"><span class="font-icon icon fa-fw fa-sm fas fa-ellipsis" style=""></span>...<!----></a></li></ul></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com//Fearless-Coding" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><span class="vp-sidebar-title">消息队列</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="Kafka" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/data/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/Kafka.html"><!---->Kafka<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">RocketMQ</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><span class="vp-sidebar-title">Java</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="java并发" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/data/Java/Java%E5%B9%B6%E5%8F%91.html"><!---->java并发<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">JVM</span><span class="vp-arrow end"></span></button><!----></section></li><li><!--[--><a aria-label="面试题" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/data/Java/%E9%9D%A2%E8%AF%95.html"><!---->面试题<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><span class="vp-sidebar-title">J2EE</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="Spring" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/data/J2EE/Spring.html"><!---->Spring<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">SpringBoot</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><span class="vp-sidebar-title">Web框架</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="WebSocket" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/data/Web%E6%A1%86%E6%9E%B6/WebSocket.html"><!---->WebSocket<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading active"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><span class="vp-sidebar-title">数据库</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><span class="vp-sidebar-title">Mysql</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a aria-label="Mysql优化" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E4%BC%98%E5%8C%96.html"><!---->Mysql优化<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Mysql基础" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E5%9F%BA%E7%A1%80.html"><!---->Mysql基础<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Mysql面试题" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98.html"><!---->Mysql面试题<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="索引的基本原理" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98.html#索引的基本原理"><!---->索引的基本原理<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="聚簇索引和非聚簇索引的区别" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98.html#聚簇索引和非聚簇索引的区别"><!---->聚簇索引和非聚簇索引的区别<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="回表" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98.html#回表"><!---->回表<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="覆盖索引" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98.html#覆盖索引"><!---->覆盖索引<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="索引的数据结构，各自优势，MySQL索引数据结构为什么使用B+树" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98.html#索引的数据结构-各自优势-mysql索引数据结构为什么使用b-树"><!---->索引的数据结构，各自优势，MySQL索引数据结构为什么使用B+树<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="索引设计原则" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98.html#索引设计原则"><!---->索引设计原则<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="锁的类型有哪些" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98.html#锁的类型有哪些"><!---->锁的类型有哪些<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ACID靠什么保证的?" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98.html#acid靠什么保证的"><!---->ACID靠什么保证的?<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="mysql主从同步原理" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98.html#mysql主从同步原理"><!---->mysql主从同步原理<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="MyISAM和InnoDB的区别" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98.html#myisam和innodb的区别"><!---->MyISAM和InnoDB的区别<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="索引类型及对数据库的性能的影响" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98.html#索引类型及对数据库的性能的影响"><!---->索引类型及对数据库的性能的影响<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="select * 和 select 字段的区别" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98.html#select-和-select-字段的区别"><!---->select * 和 select 字段的区别<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="count(*)、count(常数)、count(主键)的区别" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E9%9D%A2%E8%AF%95%E9%A2%98.html#count-、count-常数-、count-主键-的区别"><!---->count(*)、count(常数)、count(主键)的区别<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Redis</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><span class="vp-sidebar-title">自我修养</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="数据结构" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/data/%E8%87%AA%E6%88%91%E4%BF%AE%E5%85%BB/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html"><!---->数据结构<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="算法" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/data/%E8%87%AA%E6%88%91%E4%BF%AE%E5%85%BB/%E7%AE%97%E6%B3%95.html"><!---->算法<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="设计模式" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/data/%E8%87%AA%E6%88%91%E4%BF%AE%E5%85%BB/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html"><!---->设计模式<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><span class="vp-sidebar-title">容器服务</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="Linux" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/data/%E5%AE%B9%E5%99%A8%E6%9C%8D%E5%8A%A1/Linux.html"><!---->Linux<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><span class="vp-sidebar-title">开发工具</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="Git" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/data/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Git.html"><!---->Git<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><span class="vp-sidebar-title">Java工具类</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="工具" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/data/Java%E5%B7%A5%E5%85%B7%E7%B1%BB/%E5%B7%A5%E5%85%B7.html"><!---->工具<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><span class="vp-sidebar-title">前端框架</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="Vue" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/data/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/Vue.html"><!---->Vue<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Vue</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><span class="vp-sidebar-title">系统架构</span><!----></p><ul class="vp-sidebar-links"><li><!--[--><a aria-label="限流" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/data/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/%E9%99%90%E6%B5%81.html"><!---->限流<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Mysql面试题</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">Fearless</span></span><span property="author" content="Fearless"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-12-11T15:09:55.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 18 分钟</span><meta property="timeRequired" content="PT18M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#索引的基本原理">索引的基本原理</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#聚簇索引和非聚簇索引的区别">聚簇索引和非聚簇索引的区别</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#回表">回表</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#覆盖索引">覆盖索引</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#索引的数据结构-各自优势-mysql索引数据结构为什么使用b-树">索引的数据结构，各自优势，MySQL索引数据结构为什么使用B+树</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#索引设计原则">索引设计原则</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#锁的类型有哪些">锁的类型有哪些</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#acid靠什么保证的">ACID靠什么保证的?</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#mysql主从同步原理">mysql主从同步原理</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#myisam和innodb的区别">MyISAM和InnoDB的区别</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#索引类型及对数据库的性能的影响">索引类型及对数据库的性能的影响</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#select-和-select-字段的区别">select * 和 select 字段的区别</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#count-、count-常数-、count-主键-的区别">count(*)、count(常数)、count(主键)的区别</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="mysql面试题" tabindex="-1"><a class="header-anchor" href="#mysql面试题" aria-hidden="true">#</a> Mysql面试题</h1><h2 id="索引的基本原理" tabindex="-1"><a class="header-anchor" href="#索引的基本原理" aria-hidden="true">#</a> 索引的基本原理</h2><p>快速的找到想要的值，索引就是把无序变成有序的查询</p><ol><li>把索引列排序</li><li>对排序结果生成倒排表</li><li>在倒排表上拼接数据的地址</li><li>在排序时，先拿到倒排表的内容，再去去地址，拿到对应的数据</li></ol><h2 id="聚簇索引和非聚簇索引的区别" tabindex="-1"><a class="header-anchor" href="#聚簇索引和非聚簇索引的区别" aria-hidden="true">#</a> 聚簇索引和非聚簇索引的区别</h2><p>数据结构都是B+Tree<br> ● 聚簇索引:将数据存储与索引放到了一块、并且是按照一定的顺序组织的,找到索引也就找到了数据，数据的物理存放顺序与索引顺序是一致的, 即:只要索引是相邻的，那么对应的数据一定也是相邻地存放在磁盘上的<br> ● 非聚簇索引:叶子节点不存储数据、存储的是数据行地址，也就是说根据索引查找到数据行的位置再取磁盘查（普通索引也叫二级索引就是非聚簇索引）</p><p><strong>优势:</strong></p><ol><li><p>查询通过聚簇索引可以直接获取数据，相比非聚簇索引需要第二次查询(非覆盖索引的情况下)效率要高</p></li><li><p>聚簇索引对于范围查询的效率很高，因为其数据是按照大小排列的</p></li><li><p>聚簇索引适合用在排序的场合，非聚簇索引不适合</p></li></ol><p><strong>劣势:</strong></p><ol><li><p>维护索引很昂贵，特别是插入新行或者主键被更新导至要分页(page split)的时候。 建议在大量插入新行后，选在负载较低的时间段，通过OPTIMIZE TABLE优化表，因为必须被移动的行数据可能造成碎片。使用独享表空间可以弱化碎片</p></li><li><p>表因为使用UUId (随机ID)作为主键，使数据存储稀疏，这就会出现聚簇索引有可能有比全表扫面更慢，所以建议使用int的auto_ increment作为主键</p></li><li><p>如果主键比较大的话，那辅助索引将会变的更大，因为辅助索引的叶子存储的是主键值;过长的主键值，会导致非叶子节点占用占用更多的物理空间</p></li></ol><p>InnoDB中一定有主键，主键一定是聚簇索引，不手动设置、则会使用unique索引, 没有unique索引, 则会使用数据库内部的一个行的隐藏id来当作主键索引。在聚簇索引之上创建的索引称之为辅助索引，辅助索引访问数据总是需要二次查找，<strong>非聚簇索引都是辅助索引</strong>,像复合索引、前缀索引、唯一索引, 辅助索引叶子节点存储的不再是行的物理位置，而是主键值</p><p>MyISM使用的是非聚簇索引，没有聚簇索引,非聚簇索引的两棵B+树看上去没什么不同,节点的结构完全一致只是存储的内容不同而已，主键索引B+树的节点存储了主键,辅助键索引B+树存储了辅助键。表数据存储在独立的地方，这两颗B+树的叶子节点都使用一个地址指向真正的表数据，对于表数据来说，这两个键没有任何差别。由于索引树是独立的，通过辅助键检索无需访问主键的索引树。</p><p>如果涉及到大数据量的排序、全表扫描、count之类的操作的话，还是MyISAM占优势些，因为索引所占空间小,这些操作是需要在内存中完成的。</p><h2 id="回表" tabindex="-1"><a class="header-anchor" href="#回表" aria-hidden="true">#</a> 回表</h2><p>当查询提供主键是，可以直接走聚集索引，得到数据。而如果查询提供的是非聚集索引，则需要先在非聚集索引中查询到主键，然后用主键去距离索引中查询真实数据，这称为 <strong>回表</strong>。</p><h2 id="覆盖索引" tabindex="-1"><a class="header-anchor" href="#覆盖索引" aria-hidden="true">#</a> 覆盖索引</h2><p>覆盖索引就是从索引中直接获取查询结果，要使用覆盖索引需要注意select查询列中包含在索引列中；where条件包含索引列或者复合索引的前导列；</p><p>参考：<a href="https://www.cnblogs.com/zhuifeng-mayi/p/9296415.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/zhuifeng-mayi/p/9296415.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="索引的数据结构-各自优势-mysql索引数据结构为什么使用b-树" tabindex="-1"><a class="header-anchor" href="#索引的数据结构-各自优势-mysql索引数据结构为什么使用b-树" aria-hidden="true">#</a> 索引的数据结构，各自优势，MySQL索引数据结构为什么使用B+树</h2><p>索引的数据结构和具体存储引擎的实现有关,在MySQL中使用较多的索引有Hash索引，B+树索引等, InnoDB存<br> 储引擎的默认索引实现为: B+树索引。对于哈希索引来说，底层的数据结构就是哈希表，因此在绝大多数需求为<br> 单条记录查询的时候，可以选择哈希索引,查询性能最快;其余大部分场景，建议选择BTree索引。<br><strong>B+树:</strong><br> B+树是一个平衡的多叉树，从根节点到每个叶子节点的高度差值不超过1，而且同层级的节点间有指针相互链接。<br> 在B+树上的常规检索，从根节点到叶子节点的搜索效率基本相当，不会出现大幅波动，而且基于索弓|的顺序扫描<br> 时，也可以利用双向指针快速左右移动，效率非常高。因此，B+树索引被广泛应用于数据库、文件系统等场景。</p><p>B+树：解决一个问题就是，回表查询，他的存储结构是将索引和数据都存储在叶子节点，叶子节点之间是有序排列的单项链表，所以根据索引查询的效率也会更高</p><figure><img src="/images/image-20220222212200556.png" alt="image-20220222212200556" tabindex="0" loading="lazy"><figcaption>image-20220222212200556</figcaption></figure><p><strong>哈希索引:</strong><br> 哈希索弓|就是采用一定的哈希算法，把键值换算成新的哈希值,检索时不需要类似B+树那样从根节点到叶子节点<br> 逐级查找，只需一次哈希算法即可立刻定位到相应的位置，速度非常快</p><p>如果是等值查询，那么哈希索引明显有绝对优势，因为只需要经过一-次算法即可找到相应的键值;前提是键值都是<br> 唯一的。如果键值不是唯一的，就需要先找到该键所在位置，然后再根据链表往后扫描，直到找到相应的数据;<br> 如果是范围查询检索,这时候哈希索引|就毫无用武之地了，因为原先是有序的键值，经过哈希算法后，有可能变成<br> 不连续的了,就没办法再利用索弓|完成范围查询检索;</p><p>哈希索引也没办法利用索弓|完成排序，以及like &#39;xxx%&#39;这样的部分模糊查询(这种部分模糊查询,其实本质上也是<br> 范围查询) ;<br> 哈希索引也不支持多列联合索引的最左匹配规则;<br> B+树索引的关键字检索效率比较平均,不像B树那样波动幅度大,在有大量重复键值情况下，哈希索引的效率也是<br> 极低的，因为存在哈希碰撞问题。</p><p>Hash：因为hash是无序的不能进行范围查找，而且会出现hash冲突的问题，冲突了就得去比对值，查询效率也会受影响</p><p>平衡二叉树：左右节点高度相差不会大于1，当数据量过大时，就会发现查找的深度越深，查找速度也会越慢，当查询数据大于5的数据时，还会出现回表查找</p><figure><img src="/images/image-20220222211014461.png" alt="image-20220222211014461" tabindex="0" loading="lazy"><figcaption>image-20220222211014461</figcaption></figure><p><strong>B树：</strong></p><p>虽然说B树的高度相对于平衡二叉树来说高度减小了，但是也会出现回表查询的问题</p><figure><img src="/images/image-20220222211531431.png" alt="image-20220222211531431" tabindex="0" loading="lazy"><figcaption>image-20220222211531431</figcaption></figure><h2 id="索引设计原则" tabindex="-1"><a class="header-anchor" href="#索引设计原则" aria-hidden="true">#</a> 索引设计原则</h2><p>查询更快、占用空间更小</p><ol><li>适合索引的列是出现在where子句中的列，或者连接子句中指定的列</li><li>基数较小的表,索引效果较差,没有必要在此列建立索引（数据量不是很大）</li><li>使用短索引，如果对长字符串列进行索引,应该指定一个前缀长度, 这样能够节省大量索引空间,如果搜索词超过索引前缀长度，则使用索引排除不匹配的行，然后检查其余行是否可能匹配。</li><li>不要过度索引。索引需要额外的磁盘空间，并降低写操作的性能。在修改表内容的时候,索引会进行更新甚至重构，索引列越多，这个时间就会越长。所以只保持需要的索引有利于查询即可。</li><li>定义有外键的数据列一定要建立索引。</li><li>更新频繁字段不适合创建索引</li><li>若是不能有效区分数据的列不适合做索引列(如性别，男女未知，最多也就三种,区分度实在太低)</li><li>尽量的扩展索引，不要新建索引。比如表中已经有a的索引,现在要加(a,b)的索引，那么只需要修改原来的索引即可。</li><li>对于那些查询中很少涉及的列，重复值比较多的列不要建立索引。</li><li>对于定义为text、image和bit的数据类型的列不要建 立索引。</li></ol><h2 id="锁的类型有哪些" tabindex="-1"><a class="header-anchor" href="#锁的类型有哪些" aria-hidden="true">#</a> 锁的类型有哪些</h2><p>基于锁的属性分类:共享锁、排他锁。<br> 基于锁的粒度分类:行级锁(INNODB)、表级锁(INNODB、MYISAM)、 页级锁(BDB引擎)、记录锁、间隙锁、临键<br> 锁。<br> 基于锁的状态分类:意向共享锁、意向排它锁。<br> ●共享锁(Share Lock)</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>共享锁又称读锁，简称S锁;当一个事务为数据加上读锁之后，其他事务只能对该数据加读锁，而不能对数据加写锁，
直到所有的读锁释放之后其他事务才能对其进行加持写锁。共享锁的特性主要是为了支持并发的读取数据，读取数据
的时候不支持修改，避免出现重复读的问题。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>●排他锁(eXclusive Lock)</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>排他锁又称写锁，简称X锁;当-一个事务为数据加上写锁时，其他请求将不能再为数据加任何锁，直到该锁释放之后，
其他事务才能对数据进行加锁。排他锁的目的是在数据修改时候，不允许其他人同时修改，也不允许其他人读取。 避
免了出现脏数据和脏读的问题。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>●表锁</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>表锁是指上锁的时候锁住的是整个表，当下一 一个事 务访问该表的时候，必须等前一一个事务释放了锁才能进行对表进行访问;
特点:粒度大， 加锁简单，容易冲突;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>●行锁</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>行锁是指上锁的时候锁住的是表的某一行或多 行记录，其他事务访问同一-张表时， 只有被锁住的记录不能访问，其他
的记录可正常访问;
特点:粒度小，加锁比表锁麻烦，不容易冲突，相比表锁支持的并发要高;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>●记录锁(Record Lock)</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>记录锁也属于行锁中的一-种，只不过记录锁的范围只是表中的某一条记录， 记录锁是说事务在加锁后锁住的只是表的
某一条记录。
精准条件命中，并且命中的条件字段是唯一索引
加了记录锁之后数据可以避免数据在查询的时候被修改的重复读问题，也避免了在修改的事务未提交前被其他事务读
取的脏读问题。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>选择语言<br> ●页锁</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>页级锁是MySQL中锁定粒度介于行级锁和表级锁中间的一种锁。 表级锁速度快，但冲突多，行级冲突少，但速度慢。
所以取了折衷的页级，一次锁定相邻的一-组记录。
特点:开销和加锁时间界于表锁和行锁之间;会出现死锁; 锁定粒度界于表锁和行锁之间，并发度- -般
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>●间隙锁(Gap Lock)</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>属于行锁中的一一种，间隙锁是在事务加锁后其锁住的是表记录的某- - 个区间，当表的相邻ID之间出现空隙则会形成一
个区间，遵循左开右闭原则。
范围查询并且查询未命中记录，查询条件必须命中索引、间隙锁只会出现在REPEATABLE_ READ (重复读)的事务级别
中。
触发条件:防止幻读问题，事务并发的时候，如果没有间隙锁，就会发生如下图的问题，在同一 一个事务里，A事务的两
次查询出的结果会不一一样。
比如表里面的数据ID为1,4,5,7,10 ,那么会形成以下几个间隙区间，-n-1区间， 1-4区间，7-10区间，10-n区
间(-n代表负无穷大，n代表正无穷大)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>●临建锁(Next-Key Lock)</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>也属于行锁的一-种， 并且它是INNODB的行锁默认算法，总结来说它就是记录锁和间隙锁的组合，临键锁会把查询出来
的记录锁住，同时也会把该范围查询内的所有间隙空间也会锁住，再之它会把相邻的下-一个区间也会锁住
触发条件:范围查询并命中，查询命中了索引。
结合记录锁和间隙锁的特性，临键锁避免了在范围查询时出现脏读、重复读、幻读问题。加了临键锁之后，在范围区
间内数据不允许被修改和插入。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果当事务A加锁成功之后就设置一个状态告诉后面的人， 已经有人对表里的行加了一个排他锁了，你们不能<br> 对整个表加共享锁或排它锁了，那么后面需要对整个表加锁的人只需要获取这个状态就知道自己是不是可以对<br> 表加锁，避免了对整个索弓|树的每个节点扫描是否加锁，而这个状态就是意向锁。<br> ●意向共享锁</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>当一个事务试图对整个表进行加共享锁之前，首先需要获得这个表的意向共享锁。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>●意向排他锁</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>当一个事务试图对整个表进行加排它锁之前，首先需要获得这个表的意向排它锁。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="acid靠什么保证的" tabindex="-1"><a class="header-anchor" href="#acid靠什么保证的" aria-hidden="true">#</a> ACID靠什么保证的?</h2><p>A原子性由undo log日志保证，它记录了需要回滚的日志信息，事务回滚时撤销已经执行成功的sq|<br> C-致性由其他三大特性保证、程序代码要保证业务上的一致性<br> 隔离性由MVCC来保证<br> D持久性由内存+redo log来保证, mysq|修改 数据同时在内存和redo log记录这次操作,宕机的时候可以从redolog恢复</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>InnoDB redo log写盘，InnoDB 事务进入prepare 状态。
如果前面prepare成功，bin1og写盘，再继续将事务日志持久化到binlog, 如果持久化成功，那么InnoDB 事务
则进入commit状态(在redo 1og里面写一个commit 记录)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>redolog的刷盘会在系统空闲时进行</p><p>基于InnoDB引擎的日志：redo log、undo log</p><p>基于Mysql的日志：binlog</p><h2 id="mysql主从同步原理" tabindex="-1"><a class="header-anchor" href="#mysql主从同步原理" aria-hidden="true">#</a> mysql主从同步原理</h2><p>mysql主从同步的过程:<br> Mysql的主从复制中主要有三个线程: master (binlog dump thread) 、slave (I/O thread 、 SQL thread)，Master一条线程和Slave中的两条线程。<br> ● 主节点binlog, 主从复制的基础是主库记录数据库的所有变更记录到binlog。 binlog是数据库服务器启动的<br> 那一刻起，保存所有修改数据库结构或内容的一个文件。<br> ● 主节点log dump线程，当binlog 有变动时，log dump线程读取其内容并发送给从节点。<br> ● 从节点l/O线程接收binlog内容,并将其写入到relay log文件中。<br> 从节点的SQL线程读取relay log文件内容对数据更新进行重放，最终保证主从数据库的一致性。</p><p>**注:**主从节点使用binglog文件+ position偏移量来定位主从同步的位置,从节点会保存其已接收到的偏移量,如果从节点发生宕机重启，则会自动从position的位置发起同步。</p><p>由于mysq|默认的复制方式是异步的，主库把日志发送给从库后不关心从库是否已经处理，这样会产生一个问题就是假设主库挂了，从库处理失败了，这时候从库升为主库后，日志就丢失了。由此产生两个概念。</p><p><strong>全同步复制</strong><br> 主库写入binlog后强制同步日志到从库，所有的从库都执行完成后才返回给客户端，但是很显然这个方式的话性能<br> 会受到严重影响。</p><p><strong>半同步复制</strong><br> 和全同步不同的是，半同步复制的逻辑是这样,从库写入日志成功后返回ACK确认给主库，主库收到至少一个从库<br> 的确认就认为写操作完成。</p><h2 id="myisam和innodb的区别" tabindex="-1"><a class="header-anchor" href="#myisam和innodb的区别" aria-hidden="true">#</a> MyISAM和InnoDB的区别</h2><p><strong>MyISAM:</strong><br> 不支持事务，但是每次查询都是原子的;<br> 支持表级锁，即每次操作是对整个表加锁;<br> 存储表的总行数;<br> 一个MYISAM表有三个文件:索引文件、表结构文件、数据文件;<br> 采用非聚集索引，索引文件的数据域存储指向数据文件的指针。辅索引与主索引基本一致, 但是辅索引不用保证唯一性。<br><strong>InnoDb:</strong><br> 支持ACID的事务，支持事务的四种隔离级别;<br> 支持行级锁及外键约束:因此可以支持写并发;<br> 不存储总行数;<br> 一个InnoDb引擎存储在一个文件空间(共享表空间，表大小不受操作系统控制，一个表可能分布在多个文件里)，也有可能为多个(设置为独立表空,大小受操作系统文件大小限制，一般为2G) , 受操作系统文件大小的限制;</p><h2 id="索引类型及对数据库的性能的影响" tabindex="-1"><a class="header-anchor" href="#索引类型及对数据库的性能的影响" aria-hidden="true">#</a> 索引类型及对数据库的性能的影响</h2><p>**普通索引:**允许被索引的数据列包含重复的值。<br> **唯一索引:**可以保证数据记录的唯一性。<br> **主键:**是一种特殊的唯一索引， 在-张表中只能定义一个主键索引，主键用于唯一标识一 记录,使用关键字PRIMARY KEY来创建。<br> **联合索引:**索引可以覆盖多个数据列，如像INDEX(columnA, columnB)索引。<br> **全文索引:**通过建立倒排索引,可以极大的提升检索效率,解决判断字段是否包含的问题，是目前搜索弓|擎使用的一<br> 种关键技术。可以通过ALTER TABLE table_ name ADD FULLTEXT (column);创建全文索引</p><p>索引可以极大的提高数据的查询速度。</p><p>通过使用索引，可以在查询的过程中，使用优化隐藏器，提高系统的性能。</p><p>但是会降低插入、删除、更新表的速度,因为在执行这些写操作时，还要操作索引文件</p><p>索引需要占物理空间，除了数据表占数据空间之外,每一个索引还要占-定的物理空间，如果要建立聚簇索引,那么需要的空间就会更大，如果非聚集索引很多，一旦聚集索引改变，那么所有非聚集索引都会跟着变。</p><h2 id="select-和-select-字段的区别" tabindex="-1"><a class="header-anchor" href="#select-和-select-字段的区别" aria-hidden="true">#</a> select * 和 select 字段的区别</h2><ol><li><p>select * 和 select 字段在性能上没有什么差别</p></li><li><p>网络IO问题<br> select * 会查出所有的字段，有些是不需要的，当应用程序和服务器不在同一个局域网时，字段过多会影响网络传输的性能</p></li><li><p>索引问题</p></li></ol><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> col <span class="token keyword">from</span> <span class="token keyword">table</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">table</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>在col字段有索引的情况下，mysql是可以不用读data，直接使用index里面的值就返回结果的。<br> 但是一旦用了select *，就会有其他列需要读取，这时在读完index以后还需要去读data才会返回结果。这样就造成了额外的性能开销</p><h2 id="count-、count-常数-、count-主键-的区别" tabindex="-1"><a class="header-anchor" href="#count-、count-常数-、count-主键-的区别" aria-hidden="true">#</a> count(*)、count(常数)、count(主键)的区别</h2><p>对于<code>count(*)</code>、<code>count(常数)</code>、<code>count(主键)</code>形式的count函数来说，优化器可以选择扫描成本最小的索引执行查询，从而提升效率，它们的执行过程是一样的，只不过在判断表达式是否为NULL时选择不同的判断方式，这个判断为NULL的过程的代价可以忽略不计，所以我们可以认为<code>count(*)</code>、<code>count(常数)</code>、<code>count(主键)</code>所需要的代价是相同的。</p><p>而对于<code>count(非索引列)</code>来说，优化器选择全表扫描，说明只能在聚集索引的叶子结点顺序扫描。</p><p><code>count(二级索引列)</code>只能选择包含我们指定的列的索引去执行查询，可能导致优化器选择的索引执行的代价并不是最小。</p><p>其实上述这些区别就是因为非聚集索引记录比聚集索引记录占用更少的存储空间，减少更多I/O成本，所以优化器才有了不同索引的选择，仅此而已。</p><p>参考：<a href="https://mp.weixin.qq.com/s?__biz=MzU2MTI4MjI0MQ==&amp;mid=2247511868&amp;idx=1&amp;sn=c7afc775a6fc63ae60d432b591168d0d&amp;chksm=fc79c292cb0e4b84f92f03d9c7169a0980bde75061240a03b257ee1b169cd777d69861e35fd9&amp;mpshare=1&amp;scene=2&amp;srcid=0207JaRzCCjCCieF93LigI2E&amp;sharer_sharetime=1644227446591&amp;sharer_shareid=49eb7a1d7876087866c7b5165ff791ae#rd" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s?__biz=MzU2MTI4MjI0MQ==&amp;mid=2247511868&amp;idx=1&amp;sn=c7afc775a6fc63ae60d432b591168d0d&amp;chksm=fc79c292cb0e4b84f92f03d9c7169a0980bde75061240a03b257ee1b169cd777d69861e35fd9&amp;mpshare=1&amp;scene=2&amp;srcid=0207JaRzCCjCCieF93LigI2E&amp;sharer_sharetime=1644227446591&amp;sharer_shareid=49eb7a1d7876087866c7b5165ff791ae#rd<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com//Fearless-Coding/edit/main/src/data/数据库/Mysql/Mysql面试题.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 66700800@qq.com">pzy</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a aria-label="Mysql基础" class="vp-link nav-link prev nav-link prev" href="/data/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/Mysql%E5%9F%BA%E7%A1%80.html"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->Mysql基础</div></a><!----></nav><div id="comment" class="giscus-wrapper input-top" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">默认页脚</div><div class="vp-copyright">Copyright © 2024 Fearless</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-8e0f9155.js" defer></script>
  </body>
</html>
